{"ast":null,"code":"import _toConsumableArray from \"C:\\\\Users\\\\HP USER\\\\Documents\\\\R\\\\PROJECTS\\\\Eshop\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\HP USER\\\\Documents\\\\R\\\\PROJECTS\\\\Eshop\\\\frontend\\\\src\\\\pages\\\\CartPage.js\";\n\nimport React, { useEffect } from 'react';\nimport { Link, useLocation, useParams, useNavigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Row, Col, ListGroup, Image, Form, Button, Card } from 'react-bootstrap';\nimport { Message } from '../components';\nimport { addToCart } from '../actions/cartActions';\n\nvar CartPage = function CartPage() {\n  var params = useParams();\n  var productId = params.id;\n  var location = useLocation();\n  var qty = location.search ? Number(location.search.split('=')[1]) : 1;\n  var dispatch = useDispatch();\n  var cart = useSelector(function (state) {\n    return state.cart;\n  });\n  var cartItems = cart.cartItems;\n  console.log('cartItems:', cartItems);\n  useEffect(function () {\n    if (productId) {\n      dispatch(addToCart(productId, qty));\n    }\n  }, [dispatch, productId, qty]);\n\n  var removeFromCartHandler = function removeFromCartHandler(id) {};\n\n  return /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 8,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, \"Shopping Cart\"), cartItems.length === 0 ? /*#__PURE__*/React.createElement(Message, {\n    variant: \"info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 6\n    }\n  }, \"Your cart is empty \", /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 26\n    }\n  }, \"Go Back\")) : /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 6\n    }\n  }, cartItems.map(function (item) {\n    return /*#__PURE__*/React.createElement(ListGroup.Item, {\n      key: item.product,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(Image, {\n      src: item.image,\n      alt: item.name,\n      fluid: true,\n      rounded: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: 3,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/products/\".concat(item.product),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }\n    }, item.name)), /*#__PURE__*/React.createElement(Col, {\n      md: 2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 10\n      }\n    }, \"$\", item.price), /*#__PURE__*/React.createElement(Col, {\n      md: 3,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(Form.Select, {\n      value: item.qty,\n      onChange: function onChange(e) {\n        return dispatch(addToCart(item.product, Number(e.target.value)));\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }\n    }, _toConsumableArray(Array(item.countInStock).keys()).map(function (x) {\n      return /*#__PURE__*/React.createElement(\"option\", {\n        key: x + 1,\n        value: x + 1,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }\n      }, x + 1);\n    }))), /*#__PURE__*/React.createElement(Col, {\n      md: 1,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"button\",\n      variant: \"light\",\n      onClick: function onClick() {\n        return removeFromCartHandler(item.product);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-trash\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 12\n      }\n    })))));\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 4,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 8\n    }\n  }, \"Subtotal (\", cartItems.reduce(function (acc, item) {\n    return acc + item.qty;\n  }, 0), \")\"), \"$\", cartItems.reduce(function (acc, item) {\n    return acc + item.qty * item.price;\n  }, 0).toFixed(2)), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-grid gap-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, \"Proceed To Checkout\")))))));\n};\n\nexport default CartPage;","map":{"version":3,"names":["React","useEffect","Link","useLocation","useParams","useNavigate","useDispatch","useSelector","Row","Col","ListGroup","Image","Form","Button","Card","Message","addToCart","CartPage","params","productId","id","location","qty","search","Number","split","dispatch","cart","state","cartItems","console","log","removeFromCartHandler","length","map","item","product","image","name","price","e","target","value","Array","countInStock","keys","x","reduce","acc","toFixed"],"sources":["C:/Users/HP USER/Documents/R/PROJECTS/Eshop/frontend/src/pages/CartPage.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { Link, useLocation, useParams, useNavigate } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n\tRow,\r\n\tCol,\r\n\tListGroup,\r\n\tImage,\r\n\tForm,\r\n\tButton,\r\n\tCard,\r\n} from 'react-bootstrap';\r\nimport { Message } from '../components';\r\nimport { addToCart } from '../actions/cartActions';\r\n\r\nconst CartPage = () => {\r\n\tconst params = useParams();\r\n\tconst productId = params.id;\r\n\tconst location = useLocation();\r\n\tconst qty = location.search ? Number(location.search.split('=')[1]) : 1;\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst cart = useSelector((state) => state.cart);\r\n\tconst { cartItems } = cart;\r\n\tconsole.log('cartItems:', cartItems);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (productId) {\r\n\t\t\tdispatch(addToCart(productId, qty));\r\n\t\t}\r\n\t}, [dispatch, productId, qty]);\r\n\r\n\tconst removeFromCartHandler = (id) => {};\r\n\r\n\treturn (\r\n\t\t<Row>\r\n\t\t\t<Col md={8}>\r\n\t\t\t\t<h1>Shopping Cart</h1>\r\n\t\t\t\t{cartItems.length === 0 ? (\r\n\t\t\t\t\t<Message variant=\"info\">\r\n\t\t\t\t\t\tYour cart is empty <Link to=\"/\">Go Back</Link>\r\n\t\t\t\t\t</Message>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t{cartItems.map((item) => (\r\n\t\t\t\t\t\t\t<ListGroup.Item key={item.product}>\r\n\t\t\t\t\t\t\t\t<Row>\r\n\t\t\t\t\t\t\t\t\t<Col md={2}>\r\n\t\t\t\t\t\t\t\t\t\t<Image src={item.image} alt={item.name} fluid rounded />\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={`/products/${item.product}`}>{item.name}</Link>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t\t<Col md={2}>${item.price}</Col>\r\n\r\n\t\t\t\t\t\t\t\t\t<Col md={3}>\r\n\t\t\t\t\t\t\t\t\t\t<Form.Select\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={item.qty}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tdispatch(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taddToCart(item.product, Number(e.target.value))\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{[...Array(item.countInStock).keys()].map((x) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option key={x + 1} value={x + 1}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{x + 1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</Form.Select>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\r\n\t\t\t\t\t\t\t\t\t<Col md={1}>\r\n\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"light\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => removeFromCartHandler(item.product)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-trash\"></i>\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t</Col>\r\n\t\t\t\t\t\t\t\t</Row>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t)}\r\n\t\t\t</Col>\r\n\r\n\t\t\t<Col md={4}>\r\n\t\t\t\t<Card>\r\n\t\t\t\t\t<ListGroup variant=\"flush\">\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<h2>\r\n\t\t\t\t\t\t\t\tSubtotal ({cartItems.reduce((acc, item) => acc + item.qty, 0)})\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t$\r\n\t\t\t\t\t\t\t{cartItems\r\n\t\t\t\t\t\t\t\t.reduce((acc, item) => acc + item.qty * item.price, 0)\r\n\t\t\t\t\t\t\t\t.toFixed(2)}\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\r\n\t\t\t\t\t\t<ListGroup.Item>\r\n\t\t\t\t\t\t\t<div className=\"d-grid gap-2\">\r\n\t\t\t\t\t\t\t\t<Button type=\"button\">Proceed To Checkout</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Card>\r\n\t\t\t</Col>\r\n\t\t</Row>\r\n\t);\r\n};\r\n\r\nexport default CartPage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}